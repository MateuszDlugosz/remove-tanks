<?xml version="1.0" encoding="UTF-8" ?>
<prototype>
    <properties>
        <property name="level.resource.tiled-map.filename">maps/campaigns/early-morning/level-00.tmx</property>
        <property name="level.resource.entity-prototype-repository.filename">prototypes/repositories/main-repository.xml</property>
        <property name="level.resource.theme.filename">themes/sepia-theme.xml</property>
        <property name="level.enemies">3</property>
    </properties>
    <engine>
        <systems>
            <system type="MusicOnStartSystem">
                <music>
                    <filename>level-start-music</filename>
                </music>
            </system>
            <system type="WorldUpdateSystem" />
            <system type="PlayerControlSystem" />
            <system type="CameraTrackSystem" />
            <system type="CameraEffectSystem" />
            <system type="CameraUpdateSystem" />
            <system type="RandomDirectionSystem" />
            <system type="RandomSpawnSystem" />
            <system type="RandomShootSystem" />
            <system type="AutoShootSystem" />
            <system type="AutoMoveSystem" />
            <system type="HealthSystem" />
            <system type="DamageSystem">
                <hitHighlightTime>0.1</hitHighlightTime>
            </system>
            <system type="ChangeBehaviorSystem" />
            <system type="TiledMapRenderSystem" />
            <system type="GroundLayerRenderSystem" />
            <system type="BulletLayerRenderSystem" />
            <system type="VehicleLayerRenderSystem" />
            <system type="ObstacleLayerRenderSystem" />
            <system type="BonusLayerRenderSystem" />
            <system type="ExplosionLayerRenderSystem" />
            <system type="CloudLayerRenderSystem" />
            <system type="BombLayerRenderSystem" />
            <system type="BomberLayerRenderSystem" />
            <system type="ViewUpdateSystem" />
            <system type="LifetimeSystem" />
            <system type="DestroyOnContactSystem" />
            <system type="DestroySystem" />
            <!--<system type="WorldDebugRenderSystem" />-->
            <system type="TimeUpdateSystem" />
            <system type="HudSystem">
                <stage>
                    <widgets>
                        <widget type="PropertyPresenterWidget">
                            <titleEntry>GameLevelHudLife</titleEntry>
                            <property>LevelLifes</property>
                        </widget>
                        <!--<widget type="TimeLeftPresenterWidget" />-->
                        <widget type="PropertyPresenterWidget">
                            <titleEntry>GameLevelHudEnemies</titleEntry>
                            <property>LevelEnemies</property>
                        </widget>
                        <widget type="PointsPresenterWidget" />
                    </widgets>
                    <stateBar>
                        <displayableStates>
                            <displayableState>Defeat</displayableState>
                            <displayableState>Victory</displayableState>
                        </displayableStates>
                    </stateBar>
                    <messageBar>
                        <defaultMessage> </defaultMessage>
                        <messagePrinter>
                            <time>0.05</time>
                            <sound>
                                <filename>print-sound</filename>
                            </sound>
                        </messagePrinter>
                        <faces>
                            <face id="Face0">
                                <sprite type="AtlasSprite">
                                    <atlasFilename>face-atlas</atlasFilename>
                                    <regionName>face-0</regionName>
                                </sprite>
                            </face>
                        </faces>
                    </messageBar>
                </stage>
            </system>
            <system type="AutoSpawnerSystem">
                <spawners>
                    <spawner id="Alpha">
                        <active>false</active>
                        <limit>10</limit>
                        <frequency>5</frequency>
                        <prototypeCodes>
                            <prototypeCode>EnemyMediumTankSpawn</prototypeCode>
                        </prototypeCodes>
                    </spawner>
                    <spawner id="Charlie">
                        <active>false</active>
                        <limit>-1</limit>
                        <frequency>0.1</frequency>
                        <prototypeCodes>
                            <prototypeCode>Cloud0</prototypeCode>
                            <prototypeCode>Cloud1</prototypeCode>
                            <prototypeCode>Cloud2</prototypeCode>
                            <prototypeCode>Cloud3</prototypeCode>
                        </prototypeCodes>
                    </spawner>
                </spawners>
            </system>
            <system type="PlayerRespawnSystem">
                <prototypeCode>PlayerMediumTankSpawn</prototypeCode>
                <respawnTime>2</respawnTime>
            </system>
            <system type="NoLifesDefeatSystem">
                <delay>3</delay>
            </system>
            <system type="NoEnemiesVictorySystem">
                <delay>3</delay>
            </system>
            <system type="LevelEndSystem">
                <endTime>3</endTime>
            </system>
            <system type="WeatherSystem">
                <weather>
                    <weatherEffects>
                        <weatherEffect type="LightningWeatherEffect">
                            <minFrequency>8</minFrequency>
                            <maxFrequency>16</maxFrequency>
                            <minDuration>0.1</minDuration>
                            <maxDuration>0.1</maxDuration>
                            <sound>
                                <filename>thunder-sound</filename>
                            </sound>
                            <color type="RgbColor">
                                <r>255</r>
                                <g>255</g>
                                <b>255</b>
                            </color>
                        </weatherEffect>
                    </weatherEffects>
                </weather>
            </system>
        </systems>
        <listeners>
            <listener type="SoundListener" />
            <listener type="SpawnCycleListener" />
            <listener type="BonusLootListener">
                <chance>3</chance>
                <prototypeCodes>
                    <prototypeCode>BonusLife</prototypeCode>
                    <prototypeCode>BonusAmmo</prototypeCode>
                    <prototypeCode>BonusStar</prototypeCode>
                </prototypeCodes>
            </listener>
            <listener type="TriggerListener" />
        </listeners>
    </engine>
</prototype>